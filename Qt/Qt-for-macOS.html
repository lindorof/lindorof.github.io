<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Qt for macOS | Lindorof</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="Lindorof's Blog">
    <link rel="preload" href="/assets/css/0.styles.8ac2847d.css" as="style"><link rel="preload" href="/assets/js/app.b639eb72.js" as="script"><link rel="preload" href="/assets/js/2.5df156af.js" as="script"><link rel="preload" href="/assets/js/23.f15ef55d.js" as="script"><link rel="prefetch" href="/assets/js/10.ee4568ff.js"><link rel="prefetch" href="/assets/js/11.8db0767a.js"><link rel="prefetch" href="/assets/js/12.92a4e660.js"><link rel="prefetch" href="/assets/js/13.e2450b62.js"><link rel="prefetch" href="/assets/js/14.5ae14743.js"><link rel="prefetch" href="/assets/js/15.62a967cf.js"><link rel="prefetch" href="/assets/js/16.3482df63.js"><link rel="prefetch" href="/assets/js/17.881a9d91.js"><link rel="prefetch" href="/assets/js/18.d6e19ee5.js"><link rel="prefetch" href="/assets/js/19.caf0829a.js"><link rel="prefetch" href="/assets/js/20.a80e123c.js"><link rel="prefetch" href="/assets/js/21.9c810086.js"><link rel="prefetch" href="/assets/js/22.bc5f69cb.js"><link rel="prefetch" href="/assets/js/24.b8714e3e.js"><link rel="prefetch" href="/assets/js/25.d673c092.js"><link rel="prefetch" href="/assets/js/26.28d57b84.js"><link rel="prefetch" href="/assets/js/27.d8b15b76.js"><link rel="prefetch" href="/assets/js/28.2574be13.js"><link rel="prefetch" href="/assets/js/29.54667d47.js"><link rel="prefetch" href="/assets/js/3.f6602695.js"><link rel="prefetch" href="/assets/js/30.dd697263.js"><link rel="prefetch" href="/assets/js/31.aafbc8db.js"><link rel="prefetch" href="/assets/js/32.5fe2531d.js"><link rel="prefetch" href="/assets/js/33.c3dfca3c.js"><link rel="prefetch" href="/assets/js/34.22613e38.js"><link rel="prefetch" href="/assets/js/35.aad9af2b.js"><link rel="prefetch" href="/assets/js/36.badbd522.js"><link rel="prefetch" href="/assets/js/37.45905373.js"><link rel="prefetch" href="/assets/js/38.ab0de43e.js"><link rel="prefetch" href="/assets/js/39.d1a7492c.js"><link rel="prefetch" href="/assets/js/4.c7710dca.js"><link rel="prefetch" href="/assets/js/40.92c4cb14.js"><link rel="prefetch" href="/assets/js/41.cc19be50.js"><link rel="prefetch" href="/assets/js/42.c9b4b585.js"><link rel="prefetch" href="/assets/js/43.1af966c8.js"><link rel="prefetch" href="/assets/js/44.40ebac1c.js"><link rel="prefetch" href="/assets/js/45.469b8553.js"><link rel="prefetch" href="/assets/js/46.eb491d21.js"><link rel="prefetch" href="/assets/js/47.03d1fbf2.js"><link rel="prefetch" href="/assets/js/48.af296c16.js"><link rel="prefetch" href="/assets/js/49.3a42b55b.js"><link rel="prefetch" href="/assets/js/5.339eb2f5.js"><link rel="prefetch" href="/assets/js/50.ef35a161.js"><link rel="prefetch" href="/assets/js/51.284d50de.js"><link rel="prefetch" href="/assets/js/52.c4983004.js"><link rel="prefetch" href="/assets/js/53.83c193e1.js"><link rel="prefetch" href="/assets/js/54.08f26cd6.js"><link rel="prefetch" href="/assets/js/55.ef20313b.js"><link rel="prefetch" href="/assets/js/56.dc2772cf.js"><link rel="prefetch" href="/assets/js/57.add26447.js"><link rel="prefetch" href="/assets/js/58.ff8f2704.js"><link rel="prefetch" href="/assets/js/59.43fdbc04.js"><link rel="prefetch" href="/assets/js/6.0ce72a94.js"><link rel="prefetch" href="/assets/js/60.1a27c7c3.js"><link rel="prefetch" href="/assets/js/61.9ca63ff6.js"><link rel="prefetch" href="/assets/js/62.9ab09b12.js"><link rel="prefetch" href="/assets/js/63.a6b6d595.js"><link rel="prefetch" href="/assets/js/64.5e9ac56b.js"><link rel="prefetch" href="/assets/js/65.bcfb6015.js"><link rel="prefetch" href="/assets/js/66.5024eb22.js"><link rel="prefetch" href="/assets/js/67.5d83f99f.js"><link rel="prefetch" href="/assets/js/68.80f05874.js"><link rel="prefetch" href="/assets/js/69.6f9ff293.js"><link rel="prefetch" href="/assets/js/7.726c7fbf.js"><link rel="prefetch" href="/assets/js/70.92b749fb.js"><link rel="prefetch" href="/assets/js/71.a4248217.js"><link rel="prefetch" href="/assets/js/72.29aeb940.js"><link rel="prefetch" href="/assets/js/73.8918e90b.js"><link rel="prefetch" href="/assets/js/74.81fd32da.js"><link rel="prefetch" href="/assets/js/75.5357ccc2.js"><link rel="prefetch" href="/assets/js/76.66fc1725.js"><link rel="prefetch" href="/assets/js/77.6f29512b.js"><link rel="prefetch" href="/assets/js/78.a63871cd.js"><link rel="prefetch" href="/assets/js/79.c646997c.js"><link rel="prefetch" href="/assets/js/8.81d630fc.js"><link rel="prefetch" href="/assets/js/80.b5d5ad39.js"><link rel="prefetch" href="/assets/js/81.601aa569.js"><link rel="prefetch" href="/assets/js/82.99bc0640.js"><link rel="prefetch" href="/assets/js/83.06d4defc.js"><link rel="prefetch" href="/assets/js/84.44856307.js"><link rel="prefetch" href="/assets/js/85.3b88ee80.js"><link rel="prefetch" href="/assets/js/86.47c806cb.js"><link rel="prefetch" href="/assets/js/87.b5201cdf.js"><link rel="prefetch" href="/assets/js/88.f9ce8655.js"><link rel="prefetch" href="/assets/js/89.c1f12bf1.js"><link rel="prefetch" href="/assets/js/9.b6118830.js"><link rel="prefetch" href="/assets/js/90.e0f850a2.js"><link rel="prefetch" href="/assets/js/91.8166ca11.js"><link rel="prefetch" href="/assets/js/92.6ba6ce27.js"><link rel="prefetch" href="/assets/js/93.6e09fb58.js"><link rel="prefetch" href="/assets/js/94.1b324565.js"><link rel="prefetch" href="/assets/js/95.5308659f.js"><link rel="prefetch" href="/assets/js/96.306bee11.js"><link rel="prefetch" href="/assets/js/97.6e231fca.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8ac2847d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpg" alt="Lindorof" class="logo"> <span class="site-name can-hide">Lindorof</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/archives.html" class="nav-link">
  文章清单
</a></div><div class="nav-item"><a href="/guide.html" class="nav-link">
  建站指南
</a></div><div class="nav-item"><a href="https://github.com/lindorof" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/archives.html" class="nav-link">
  文章清单
</a></div><div class="nav-item"><a href="/guide.html" class="nav-link">
  建站指南
</a></div><div class="nav-item"><a href="https://github.com/lindorof" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Qt for macOS</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Qt/Qt-for-macOS.html#支持的版本" class="sidebar-link">支持的版本</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Qt/Qt-for-macOS.html#构建环境" class="sidebar-link">构建环境</a></li><li class="sidebar-sub-header"><a href="/Qt/Qt-for-macOS.html#目标平台" class="sidebar-link">目标平台</a></li><li class="sidebar-sub-header"><a href="/Qt/Qt-for-macOS.html#架构" class="sidebar-link">架构</a></li></ul></li><li><a href="/Qt/Qt-for-macOS.html#其它的命令行选项" class="sidebar-link">其它的命令行选项</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Qt/Qt-for-macOS.html#在-macos-上发布应用" class="sidebar-link">在 macOS 上发布应用</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Qt/Qt-for-macOS.html#macos-其它议题" class="sidebar-link">macOS 其它议题</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/Qt/Qt-for-macOS.html#下一步" class="sidebar-link">下一步</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="qt-for-macos"><a href="#qt-for-macos" class="header-anchor">#</a> Qt for macOS</h1> <blockquote><p>本文翻译自 Qt 官网的 <a href="https://doc.qt.io/qt-5/macos.html" target="_blank" rel="noopener noreferrer">Qt for macOS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p><code>macOS</code> 是苹果 Mac 系列计算机的操作系统，以前叫 <code>OS X</code> 或 <code>Mac OS X</code> 。它是 UNIX 平台，基于 <code>darwin kernel</code> ，与其它 UNIX-like 平台类似。最主要的不同是，macOS 从 X11 开始，使用自己原生的 windowing system ，并可通过 Cocoa API 进行访问。</p> <p>若要在 macOS 上下载和安装 Qt ，请遵循 <a href="https://doc.qt.io/qt-5/gettingstarted.html#" target="_blank" rel="noopener noreferrer">Getting Started with Qt<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的介绍。</p> <h2 id="支持的版本"><a href="#支持的版本" class="header-anchor">#</a> 支持的版本</h2> <p>在讨论 Qt 对 macOS 的版本支持时，需要区分清楚构建环境和目标平台</p> <ul><li>构建环境：基于哪一个平台来构建程序</li> <li>目标平台：所构建的程序所支持的平台</li></ul> <p>下面是所支持的 macOS 版本：</p> <table><thead><tr><th>目标平台</th> <th>架构</th> <th>构建环境</th></tr></thead> <tbody><tr><td>macOS 10.12, 10.13, 10.14</td> <td>x86_64, x86_64h</td> <td>Xcode 10 (10.14 SDK), Xcode 9 (10.13 SDK)</td></tr></tbody></table> <p><strong>注意</strong>：Xcode9 仅支持应用的开发（可选择是否使用某些新特性，例如 layer-bakcing ，dark mode 等），不再支持 Qt 自身的开发</p> <h3 id="构建环境"><a href="#构建环境" class="header-anchor">#</a> 构建环境</h3> <p>macOS 的构建环境完全取决于构建应用的 Xcode 版本。Xcode 包含两个东西，一个是工具链（编译器、链接器、及其它），一个是 macOS 平台的 SDK（头文件和 lib 库），它们决定了应用程序的构建。</p> <p><strong>注意</strong>：构建环境与所运行 Xcode 的 macOS 版本是没有任何关系的，只要你的操作系统装载了某个版本的 Xcode ，构建环境就由这个版本的 Xcode 决定。</p> <p>Xcode 可以从苹果的 <a href="https://developer.apple.com/download/" target="_blank" rel="noopener noreferrer">developer website<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 页面下载（包括老版本的 Xcode）。安装完成之后，需要使用 <code>xcode-select</code> 工具来指定所安装的 Xcode ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ <span class="token function">sudo</span> xcode-select --switch /Applications/Xcode.app
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>并且可以检查所指定的 Xcode ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ xcode-select -print-path
/Applications/Xcode.app/Contents/Developer
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>然后，可通过 <code>xcrun</code> 命令来查找工具链中的某个工具：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ xcrun -sdk macosx -find clang
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>或者查看平台 SDK 的路径：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>$ xcrun -sdk macosx --show-sdk-path
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.14.sdk
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="目标平台"><a href="#目标平台" class="header-anchor">#</a> 目标平台</h3> <p>macOS 上的构建会使用一个叫做 <em><strong>weak linking</strong></em> 的技术，它让我们可以基于最新平台 SDK 的头文件和 lib 库进行构建，同时又让我们的应用程序可以发布到低版本 SDK 的 macOS 上。当程序在 macOS 运行时，如果该 macOS 的 SDK 版本低于构建时的 SDK 版本，则 Qt 会进行运行时检查，确定某些平台特性是否可用。</p> <p>理论上来说，这种机制允许应用程序在所有的 macOS 版本上运行，但由于一些实际的技术上的原因，还是会有一个最低版本限制，也就是应用程序的 <em><strong>deployment target (发布目标)</strong></em> 。如果运行程序的 macOS 版本低于发布目标，则 macOS 或 Qt 不会让程序运行，并给出错误提示信息。</p> <p>Qt 通过 qmake 变量 <code>QMAKE_MACOSX_DEPLOYMENT_TARGET</code> 来设置发布目标，macOS 上的 <code>makespec</code> 已为该变量设置了默认值。一般情况下不需要更改该默认值，但如果需要，可以在工程文件中进行配置：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>QMAKE_MACOSX_DEPLOYMENT_TARGET <span class="token operator">=</span> <span class="token number">10.13</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>注意</strong>：在工程文件中配置的该值不能低于 Qt 的默认值，否则可能导致运行时错误。</p> <p>综上所述，确保总是基于最新的平台 SDK 进行构建，可以让 Qt 应用程序使用到最新 macOS 版本的新特性。</p> <p>关于 macOS SDK 开发的更多信息，参看苹果官网的 <a href="https://developer.apple.com/library/mac/#documentation/DeveloperTools/Conceptual/cross_development/Introduction/Introduction.html" target="_blank" rel="noopener noreferrer">developer documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 。</p> <blockquote><p><em><strong>关于 macOS 不同版本带来的特性变化</strong></em></p></blockquote> <p>在使用最新版本的 Xcode 和 SDK 构建应用程序时，有一点需要额外说明：基于构建应用程序的 SDK 版本，macOS 系统框架有时候需要决定是否启用对应的新变化的特性。</p> <p>例如，macOS 10.14 Mojave 版本引入了 dark-mode ，那么 macOS 会认为，只有基于 10.14 SDK 构建的应用程序才支持 dark-mode ，而其它基于早期 SDK 构建的应用程序会使用默认的 light-mode 。通过这个机制，苹果确保了基于早期 SDK/OS 构建的应用程序可以被发布，并且不需要回归测试就能够在新发布的 macOS 系统上运行。</p> <p>而进一步的，如果 Qt 在处理 macOS 的一些新特性（dark-mode, layer-backed views）时遇到问题，要弃用这些新特性，则唯一的方式是：基于更早版本的 SDK（10.13 SDK, Xcode 9）来构建应用程序。但要注意，这只是最后的解决办法，在你的应用程序无法解决或无法绕开问题时才应当采用。</p> <h3 id="架构"><a href="#架构" class="header-anchor">#</a> 架构</h3> <p>默认情况下，Qt 会编译为 x86_64 架构。如果要编译为 x86_64_h（haswell）架构，需使用 qmake 的 <code>QMAKE_APPLE_DEVICE_ARCHS</code> 变量，在配置时进行指定：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./configure -platform macx-clang <span class="token assign-left variable">QMAKE_APPLE_DEVICE_ARCHS</span><span class="token operator">=</span>x86_64h
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>另外，<code>QMAKE_APPLE_DEVICE_ARCHS</code> 也可以设置为用空格分隔的清单，来同时构建为多个架构：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>./configure -platform macx-clang <span class="token assign-left variable">QMAKE_APPLE_DEVICE_ARCHS</span><span class="token operator">=</span><span class="token string">&quot;x86_64 x86_64h&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="其它的命令行选项"><a href="#其它的命令行选项" class="header-anchor">#</a> 其它的命令行选项</h2> <p>在命令行模式下，可以使用 <code>qmake</code> 和 <code>make</code> 来构建应用程序，而对于 <code>qmake</code> 来说，可以有一些额外的选项。</p> <p>一方面，对于二进制的包，<code>qmake</code> 默认会创建 Xcode 工程；一方面，可使用 <code>-spec macx-gcc</code> 来创建 makefile ；一方面，可使用 <code>-spec macx-xcode</code> 来创建 Xcode 工程；例如：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>qmake -spec macx-xcode project.pro
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>通过 <code>qmake</code> 并指定 <code>-spec macx-xcode</code> 来创建 Xcode 工程文件时，不用再关心 Qt 的预处理器（<a href="https://doc.qt.io/qt-5/moc.html#" target="_blank" rel="noopener noreferrer">moc<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 和 <a href="https://doc.qt.io/qt-5/uic.html#" target="_blank" rel="noopener noreferrer">uic<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）规则，因为 <a href="https://doc.qt.io/qt-5/qmake-manual.html" target="_blank" rel="noopener noreferrer">qmake<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 都自动处理好了，并且确保了所需的内容都被链接进应用程序中。</p> <p>Qt 并不会完全的与开发环境交互，例如，可以在 Xcode 的交互界面下，通过插件来设置一个文件为 <code>mocable</code> 。</p> <p>构建以后的结果是一个应用程序包，它是一个目录结构，包含可执行程序。因此，应用程序可以通过苹果的 Finder 来双击运行，也可以通过命令行来指向可执行程序：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>myApp.app/Contents/MacOS/myApp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>如果你希望构建为命令行工具而不使用 GUI ，例如 <code>moc</code> ，<code>uic</code> ，<code>ls</code> 等，你可以在工程文件中设置 <code>CONFIG</code> 变量，从而让 <code>qmake</code> 禁用程序包的创建：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>CONFIG -<span class="token operator">=</span> app_bundle
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="在-macos-上发布应用"><a href="#在-macos-上发布应用" class="header-anchor">#</a> 在 macOS 上发布应用</h2> <p>macOS 应用一般发布为自包含的应用程序包，在应用程序包中，包含了可执行程序及依赖项，例如 Qt 库、插件、语言包及其它可能使用到的资源。类似 Qt 的第三方库一般不会被安装在系统中，因此每个应用程序中都会包含一份对应的拷贝。</p> <p>一般发布应用的方式是提供为 compressed disk image（.dmg文件），从而用户可以直接在 Finder 中挂载。通过 <em><strong>macdeployqt</strong></em> （<code>bin/macdeployqt</code>）这个发布工具，可以创建自包含的应用程序包，也可以创建 .dmg 文件。另外，应用也可以通过  Mac App Store 来发布，而 Qt 5 致力于满足和遵守 app store 的沙盒规则，因此，<em><strong>macdeployqt</strong></em> 可以用于 app store 的发布。</p> <p>详细参考 <a href="https://doc.qt.io/qt-5/macos-deployment.html#" target="_blank" rel="noopener noreferrer">Qt for macOS - Deployment<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="macos-其它议题"><a href="#macos-其它议题" class="header-anchor">#</a> macOS 其它议题</h2> <p>参考下面的链接，包含了 macOS 的相关议题，以及创建 macOS 应用的一些建议：</p> <p><a href="https://doc.qt.io/qt-5/macos-issues.html#" target="_blank" rel="noopener noreferrer">Qt for macOS - Specific Issues<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="下一步"><a href="#下一步" class="header-anchor">#</a> 下一步</h2> <p>欢迎继续浏览 Qt 的其它内容，包括 API 概述，以及如何使用 API 的例子。</p> <ul><li><a href="https://doc.qt.io/qt-5/overviews-main.html#" target="_blank" rel="noopener noreferrer">Qt Overviews<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> - 应用开发相关的主题</li> <li><a href="https://doc.qt.io/qt-5/qtexamplesandtutorials.html#" target="_blank" rel="noopener noreferrer">Examples and Tutorials<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> - 代码示例和教程</li> <li><a href="https://doc.qt.io/qt-5/reference-overview.html#" target="_blank" rel="noopener noreferrer">Qt Reference Pages<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> - C++ 和 QML 的 API</li></ul> <blockquote><p><a href="http://qt.io/" target="_blank" rel="noopener noreferrer">http://qt.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是 Qt 非常活跃的社区，包含了 wiki 、论坛、以及其它的学习指南和介绍。</p></blockquote></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">11/8/2019, 6:43:26 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.b639eb72.js" defer></script><script src="/assets/js/2.5df156af.js" defer></script><script src="/assets/js/23.f15ef55d.js" defer></script>
  </body>
</html>
